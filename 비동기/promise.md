# Promise

## ìë°”ìŠ¤í¬ë¦½íŠ¸ í”„ë¡œë¯¸ìŠ¤ ê°ì²´ 
ìë°”ìŠ¤í¬ë¦½íŠ¸ `Promise` ê°ì²´ëŠ” ë¹„ë™ê¸° ì‘ì—…ì˜ ìµœì¢… ì™„ë£Œ ë˜ëŠ” ì‹¤íŒ¨ë¥¼ ë‚˜íƒ€ë‚´ëŠ” `Array`, `Object`ì²˜ëŸ¼ ë…ìì ì¸ ê°ì²´ë¼ê³  ë³´ë©´ ëœë‹¤. 
ë¹„ë™ê¸° ì‘ì—…ì´ ëë‚  ë•Œê¹Œì§€ ê²°ê³¼ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ê²°ê³¼ë¥¼ ì œê³µí•˜ê² ë‹¤ëŠ” "ì•½ì†"ì„ ë°˜í™˜í•˜ëŠ” ì˜ë¯¸ì—ì„œ `Promise`ë¼ ëª…ëª… ì§€ì–´ì¡Œë‹¤. 

## í”„ë¡œë¯¸ìŠ¤ ê°ì²´ ê¸°ë³¸ ì‚¬ìš©ë²• 
### í”„ë¡œë¯¸ìŠ¤ ê°ì²´ ìƒì„± 
`Promise` ê°ì²´ë¥¼ ìƒì„±í•˜ë ¤ë©´ `new í‚¤ì›Œë“œ`ì™€ `Promise` ìƒì„±ì í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. ì´ ë•Œ `Promise` ìƒì„±ì ì•ˆì— ë‘ê°œì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ê°€ì§„ ì½œë°± í•¨ìˆ˜ë¥¼ ë„£ê²Œ ë˜ëŠ”ë°, ì²« ë²ˆì§¸ ì¸ìˆ˜ëŠ” ì‘ì—…ì´ ì„±ê³µí–ˆì„ ë•Œ `ì„±ê³µ(resolve)`ì„ì„ ì•Œë ¤ì£¼ëŠ” ê°ì²´ì´ë©°, ë‘ ë²ˆì§¸ ì¸ìˆ˜ëŠ” ì‘ì—…ì´ ì‹¤íŒ¨í–ˆì„ ë•Œ `ì‹¤íŒ¨(reject)`ì„ì„ ì•Œë ¤ì£¼ëŠ” ì˜¤ë¥˜ ê°ì²´ì´ë‹¤.

> `Promise` ìƒì„±ì ì•ˆì— ë“¤ì–´ê°€ëŠ” ì½œë°± í•¨ìˆ˜ë¥¼ `executor`ë¼ê³  í•œë‹¤.

```js
const myPromise = new Promise((reslove, reject) => {
  const data = fetch("ì„œë²„ URL");
  if (data) {
    reslove(data);
  } else {
    reject("ì‹¤íŒ¨");
  }
});
```

ìœ„ ì½”ë“œì—ì„œ ì„œë²„ë¡œë¶€í„° ìš”ì²­í•˜ëŠ” ë¹„ë™ê¸° ì‘ì—…ì´ ì„±ê³µí•˜ëŠëƒ ì‹¤íŒ¨í•˜ëŠëƒ ì— ë”°ë¼ ë§¤ê°œ  ë³€ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ ë‚˜ë‰˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ë§Œì¼ ì‘ì—…ì´ ì„±ê³µí•œë‹¤ë©´ ë¹„ë™ê¸° ë¡œì§ ì‹¤í–‰ì´ ì°¸ì´ë¼ëŠ” ê±¸ ì•Œë ¤ì£¼ê¸° ìœ„í•´ ë§ ê·¸ë˜ë„ `resolve()` ì„±ê³µ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•œë‹¤. 
ì‹¤íŒ¨í•˜ë©´ `reject()` ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•œë‹¤. 


### í”„ë¡œë¯¸ìŠ¤ ê°ì²´ ì²˜ë¦¬
ì´ë ‡ê²Œ ë§Œë“¤ì–´ì§„ `Promiseê°ì²´`ëŠ” ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œëœ ì´í›„ì— ë‹¤ë¥¸ ì‘ì—…ì„ ì—°ê²°ì‹œì¼œ ì§„í–‰í•  ìˆ˜ ìˆë‹¤. ì‘ì—… ê²°ê³¼ì— ë”°ë¼ `.then()`, `catch()` ë©”ì†Œë“œ ì²´ì´ë‹ì„ í†µí•´ ì„±ê³µê³¼ ì‹¤íŒ¨ì— ëŒ€í•œ í›„ì† ì²˜ë¦¬ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆë‹¤.

ë§Œì¼ ì²˜ë¦¬ê°€ ì„±ê³µí•˜ì—¬ í”„ë¡œë¯¸ìŠ¤ ê°ì²´ ë‚´ë¶€ì—ì„œ `resolve(data)`ë¥¼ í˜¸ì¶œí•˜ê²Œ ë˜ë©´, ë°”ë¡œ `then()`ìœ¼ë¡œ ì´ì–´ì ¸ `then ë©”ì„œë“œ`ì˜ ì½œë°± í•¨ìˆ˜ì—ì„œ ì„±ê³µì— ëŒ€í•œ ì¶”ê°€ ì²˜ë¦¬ë¥¼ ì§„í–‰í•œë‹¤. 

ì´ë•Œ í˜¸ì¶œí•œ `resolve()`í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ì˜ ê°’ì´ `then()`ë©”ì„œë“œì˜ ì½œë°± í•¨ìˆ˜ ì¸ìë¡œ ë“¤ì–´ê°€ `then`ë©”ì†Œë“œ ë‚´ë¶€ì—ì„œ í”„ë¡œë¯¸ìŠ¤ ê°ì²´ ë‚´ë¶€ì—ì„œ ë‹¤ë£¬ ê°’ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

ë°˜ëŒ€ë¡œ ì²˜ë¦¬ê°€ ì‹¤íŒ¨í•˜ì—¬ í”„ë¡œë¯¸ìŠ¤ ê°ì²´ ë‚´ë¶€ì—ì„œ `reject("Error")`ë¥¼ í˜¸ì¶œí•˜ê²Œ ë˜ë©´, ë°”ë¡œ `.catch()`ë¡œ ì´ì–´ì ¸ `catch` ë©”ì„œë“œë¥¼ ì½œë°± í•¨ìˆ˜ì—ì„œ ì„±ê³µì— ëŒ€í•œ ì¶”ê°€ ì²˜ë¦¬ë¥¼ ì§„í–‰í•œë‹¤.
```js
myPromise
    .then((value) => { // ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰í–ˆì„ ë•Œ ì‹¤í–‰ë  ì½”ë“œ
    	console.log("Data: ", value); // ìœ„ì—ì„œ return resolve(data)ì˜ dataê°’ì´ ì¶œë ¥ëœë‹¤
    })
    .catch((error) => { // ì‹¤íŒ¨í–ˆì„ ë•Œ ì‹¤í–‰ë  ì½”ë“œ
     	console.error(error); // ìœ„ì—ì„œ return reject("Error")ì˜ "Error"ê°€ ì¶œë ¥ëœë‹¤
    })
    .finally(() => { // ì„±ê³µí•˜ë“  ì‹¤íŒ¨í•˜ë“  ë¬´ì¡°ê±´ ì‹¤í–‰ë  ì½”ë“œ
    	
    })
```

## í”„ë¡œë¯¸ìŠ¤ í•¨ìˆ˜ ë“±ë¡ 
ìœ„ì™€ ê°™ì´ í”„ë¡œë¯¸ìŠ¤ ê°ì²´ë¥¼ ë³€ìˆ˜ì— ë°”ë¡œ í• ë‹¹í•˜ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆì§€ë§Œ, ë³´í†µì€ ë‹¤ìŒê³¼ ê°™ì´ ë³„ë„ë¡œ í•¨ìˆ˜ë¡œ ê°ì‹¸ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤.
```js
function myPromise() {
  return new Promise((resolve, reject) => {
    if (/** ì„±ê³µ ì¡°ê±´ */) {
      resolve(/**ê²°ê³¼ê°’ */)
    } else {
      reject(/**ì—ëŸ¬ ê°’ */)
    }
  })
}

myPromise().then((result) => {
  // ì„±ê³µ ì‹œ ì‹¤í–‰í•  í•¨ìˆ˜
}).catch((error) => {
  // ì‹¤íŒ¨ ì‹œ ì‹¤í–‰í•  ì½œë°± í•¨ìˆ˜
})
```
í•¨ìˆ˜ë¥¼ ë§Œë“¤ê³  ê·¸ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ í”„ë¡œë¯¸ìŠ¤ ìƒì„±ìë¥¼ `return`í•¨ìœ¼ë¡œì„œ, ê³§ë°”ë¡œ ìƒì„±ëœ í”„ë¡œë¯¸ìŠ¤ ê°ì²´ë¥¼ í•¨ìˆ˜ ë°˜í™˜ê°’ìœ¼ë¡œ ì–»ì–´ ì‚¬ìš©í•˜ëŠ” ê¸°ë²•ì´ë‹¤. ì´ë ‡ê²Œ í”„ë¡œë¯¸ìŠ¤ ê°ì²´ë¥¼ í•¨ìˆ˜ë¡œ ë§Œë“œëŠ” ì´ìœ ëŠ” ë‹¤ìŒ 3ê°€ì§€ê°€ ìˆë‹¤.
1. ì¬ì‚¬ìš©ì„±
- í”„ë¡œë¯¸ìŠ¤ ê°ì²´ë¥¼ í•¨ìˆ˜ë¡œ ë§Œë“¤ë©´ í•„ìš”í•  ë•Œë§ˆë‹¤ í˜¸ì¶œí•˜ì—¬ ì‚¬ìš©í•¨ìœ¼ë¡œì¨, ë°˜ë³µë˜ëŠ” ë¹„ë™ê¸° ì‘ì—…ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.
2. ê°€ë…ì„±
- í”„ë¡œë¯¸ìŠ¤ ê°ì²´ë¥¼ í•¨ìˆ˜ë¡œ ë§Œë“¤ë©´ ì½”ë“œì˜ êµ¬ì¡°ê°€ ëª…í™•ì ¸, ë¹„ë™ê¸° ì‘ì—…ì˜ ì •ì˜ì™€ ì‚¬ìš©ì„ ë¶„ë¦¬í•˜ì—¬ ì½”ë“œì˜ ê°€ë…ì„±ì„ ë†’í ìˆ˜ ìˆë‹¤.
3. í™•ì¥ì„±
- í”„ë¡œë¯¸ìŠ¤ ê°ì²´ë¥¼ í•¨ìˆ˜ë¡œ ë§Œë“¤ë©´ ì¸ìë¥¼ ì „ë‹¬í•˜ì—¬ ë™ì ìœ¼ë¡œ ë¹„ë™ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤. ë˜í•œ ì—¬ëŸ¬ ê°œì˜ í”„ë¡œë¯¸ìŠ¤ ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë“¤ì„ ì—°ê²°í•˜ì—¬ ë³µì¡í•œ ë¹„ë™ê¸° ë¡œì§ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

ì´ëŸ° ì  ë•Œë¬¸ì— `promise`ë¥¼ ì œê³µí• ì¼ì´ ìˆë‹¤ë©´ í•¨ìˆ˜ë¡œ ê°ì‹¸ ì‚¬ìš©í•œë‹¤. 
ê·¸ë˜ì„œ ëŒ€ë¶€ë¶„ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¹„ë™ê¸° ë¼ì´ë¸ŒëŸ¬ë¦¬ë„ í•¨ìˆ˜ í˜•íƒœë¡œ í”„ë¡œë¯¸ìŠ¤ ê°ì²´ë¥¼ ì œê³µí•œë‹¤. 
ëŒ€í‘œì ìœ¼ë¡œ `fetch` ë©”ì„œë“œê°€ ìˆëŠ”ë°, ì´ `fetch()`ë©”ì†Œë“œ ë‚´ì—ì„œ í”„ë¡œë¯¸ìŠ¤ ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ì„œë²„ë¡œë¶€í„° ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ë©´ `resolve()`í•˜ì—¬ `.then()`ìœ¼ë¡œì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì´ë‹¤. 
```js
// GET ìš”ì²­ ì˜ˆì‹œ
fetch('https://jsonplaceholder.typicode.com/posts/1')
  .then((response) => response.json()) // ì‘ë‹µ ê°ì²´ì—ì„œ JSON ë°ì´í„°ë¥¼ ì¶”ì¶œí•œë‹¤.
  .then((data) => console.log(data)); // JSON ë°ì´í„°ë¥¼ ì½˜ì†”ì— ì¶œë ¥í•œë‹¤.
```


## í”„ë¡œë¯¸ìŠ¤ ì •ì  ë©”ì„œë“œ
### Promise.resolve()


## ì°¸ê³  ë¬¸ì„œ

ì¶œì²˜: [ë¹„ë™ê¸°ì²˜ë¦¬](https://inpa.tistory.com/entry/JS-ğŸ“š-ë¹„ë™ê¸°ì²˜ë¦¬-Promise )